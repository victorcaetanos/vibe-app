<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>Vibe - Registro de Humor Diário</title>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>🌈 Vibe</h1>
        <p>Seu registro de humor diário</p>
    </div>

    <div class="content">
        <div class="mood-selector">
            <h2>Como você está se sentindo hoje?</h2>
            <div class="mood-options">
                <div class="mood-option" data-mood="muito-feliz">
                    <span class="mood-emoji">😄</span>
                    <div class="mood-label">Muito Feliz</div>
                </div>
                <div class="mood-option" data-mood="feliz">
                    <span class="mood-emoji">😊</span>
                    <div class="mood-label">Feliz</div>
                </div>
                <div class="mood-option" data-mood="neutro">
                    <span class="mood-emoji">😐</span>
                    <div class="mood-label">Neutro</div>
                </div>
                <div class="mood-option" data-mood="triste">
                    <span class="mood-emoji">😔</span>
                    <div class="mood-label">Triste</div>
                </div>
                <div class="mood-option" data-mood="muito-triste">
                    <span class="mood-emoji">😢</span>
                    <div class="mood-label">Muito Triste</div>
                </div>
            </div>
        </div>

        <div class="notes-section">
            <h3>📝 Anotações do dia</h3>
            <textarea
                    class="notes-textarea"
                    placeholder="Como foi seu dia? O que aconteceu? Como você se sente? Escreva aqui suas reflexões..."
                    id="notesInput"
                    maxlength="500"
            ></textarea>
            <div class="char-counter">
                <span id="charCount">0</span>/500 caracteres
            </div>
        </div>

        <div class="save-section">
            <button class="save-btn" id="saveBtn" disabled>
                💾 Salvar Registro
            </button>
            <div id="statusMessage" class="status-message"></div>
        </div>
    </div>
</div>

<script>
    let selectedMood = null;

    // Seleção de humor
    function selectMood(element, mood) {
        document.querySelectorAll('.mood-option').forEach(opt => {
            opt.classList.remove('selected');
        });

        element.classList.add('selected');
        selectedMood = mood;
        checkSaveButton();
    }

    // Contador de caracteres
    function updateCharCounter() {
        const input = document.getElementById('notesInput');
        const counter = document.getElementById('charCount');
        counter.textContent = input.value.length;
        checkSaveButton();
    }

    // Verificar se pode habilitar botão salvar
    function checkSaveButton() {
        const saveBtn = document.getElementById('saveBtn');
        const hasNotes = document.getElementById('notesInput').value.trim() !== '';

        if (selectedMood && hasNotes) {
            saveBtn.disabled = false;
        } else {
            saveBtn.disabled = true;
        }
    }

    // Salvar registro
    function saveEntry() {
        const notes = document.getElementById('notesInput').value.trim();
        const statusMessage = document.getElementById('statusMessage');

        if (!selectedMood || !notes) {
            showStatus('Selecione um humor e adicione suas anotações!', 'error');
            return;
        }

        // Simular salvamento
        const entry = {
            mood: selectedMood,
            notes: notes,
            date: new Date().toLocaleDateString('pt-BR'),
            timestamp: Date.now()
        };

        console.log('Registro salvo:', entry);
        showStatus('Registro salvo com sucesso! ✨', 'success');

        // Limpar formulário após 2 segundos
        setTimeout(() => {
            resetForm();
        }, 2000);
    }

    // Mostrar mensagem de status
    function showStatus(message, type) {
        const statusElement = document.getElementById('statusMessage');
        statusElement.textContent = message;
        statusElement.className = `status-message status-${type}`;
        statusElement.style.display = 'block';

        setTimeout(() => {
            statusElement.style.display = 'none';
        }, 3000);
    }

    // Resetar formulário
    function resetForm() {
        document.querySelectorAll('.mood-option').forEach(opt => {
            opt.classList.remove('selected');
        });
        document.getElementById('notesInput').value = '';
        document.getElementById('charCount').textContent = '0';
        selectedMood = null;
        checkSaveButton();
    }

    // Event listeners
    document.querySelectorAll('.mood-option').forEach(option => {
        option.addEventListener('click', function() {
            selectMood(this, this.dataset.mood);
        });
    });

    document.getElementById('notesInput').addEventListener('input', updateCharCounter);
    document.getElementById('saveBtn').addEventListener('click', saveEntry);
</script>
</body>
</html>